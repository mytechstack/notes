# =============================================================================
# OPA Database Integration - Environment Configuration
# =============================================================================

# Database Configuration
POSTGRES_DB=opa_policies
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
DATABASE_URL=postgres://postgres:password@postgres:5432/opa_policies?sslmode=disable

# Bundle Server Configuration
BUNDLE_SERVER_PORT=8080
BUNDLE_SERVER_HOST=0.0.0.0

# OPA Configuration
OPA_PORT=8181
OPA_HOST=0.0.0.0

# Bundle Polling Configuration (seconds)
BUNDLE_POLL_MIN_DELAY=10
BUNDLE_POLL_MAX_DELAY=20

# Policy Loader Configuration
POLICY_DIR=/app/policies

# Docker Compose Configuration
COMPOSE_PROJECT_NAME=opa-db-integration

# Logging Configuration
LOG_LEVEL=info

# Development Settings
ENVIRONMENT=development

# Security Settings (for production)
# SSL_MODE=require
# DB_SSL_CERT=/path/to/cert.pem
# DB_SSL_KEY=/path/to/key.pem
# DB_SSL_ROOT_CERT=/path/to/ca-cert.pem

# Network Configuration
# EXTERNAL_NETWORK=false
# CUSTOM_NETWORK_NAME=opa-network

# Resource Limits (for production)
# DB_MAX_CONNECTIONS=100
# DB_SHARED_BUFFERS=256MB
# DB_EFFECTIVE_CACHE_SIZE=1GB
# BUNDLE_SERVER_MEMORY_LIMIT=512m
# OPA_MEMORY_LIMIT=256m

# Health Check Configuration
# HEALTH_CHECK_INTERVAL=30s
# HEALTH_CHECK_TIMEOUT=10s
# HEALTH_CHECK_RETRIES=3

# Backup Configuration (for production)
# BACKUP_SCHEDULE="0 2 * * *"
# BACKUP_RETENTION_DAYS=7
# BACKUP_S3_BUCKET=opa-policy-backups
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-west-2